@model IList<string>
@{
    ViewData["Title"] = "Log";
}

<div id="app">
    <log-filter v-on:em_apply_filter="loadLogs"></log-filter>
    <div v-cloak v-if="isErrorVisible" class="ui error message" role="alert"><div class="header">Error</div><p>{{ errorMessage }}</p></div>
    <log-table :pr_logdata="logdata" :pr_is_loading="isLoadingLogs"></log-table>
    <log-entry-modal></log-entry-modal>
</div>


<script type="text/javascript">
    var predefinedFilterProperties = JSON.parse('@Html.Raw(Json.Serialize(Model))');

    $(document).ready(function () {
        $('#timepicker').daterangepicker({
            ranges: {
                'Today': [moment(), moment()],
                'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
                'Last 7 Days': [moment().subtract(6, 'days'), moment()],
                'Last 30 Days': [moment().subtract(29, 'days'), moment()],
                'This Month': [moment().startOf('month'), moment().endOf('month')],
                'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
            }
        });
        $(".ui.fluid.dropdown").dropdown();
    });
</script>

@Html.Partial("_Templates.cshtml")

<script src="~/js/Components/LogTable.js"></script>
<script src="~/js/Components/LogEntry.js"></script>
<script src="~/js/Components/LogEntryModal.js"></script>
<script src="~/js/Components/LogFilter.js"></script>

<script src="~/js/VueApp.js"></script>